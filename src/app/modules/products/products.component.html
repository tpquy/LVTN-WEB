<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0,0" />
<div class="container">
    <div class="top-banner" fxLayoutAlign="center center">
        <img src="../../../../../assets/img/top-banner.png" alt="" fxFlex="85">
    </div>
    <div class="main" fxLayoutAlign="center start">
        <div class="list-product-main" fxFlex="85" fxLayout="row" fxLayoutAlign="center start"  fxFlexAlign="stretch">
            <div class="filter" fxFlex="20" fxFlexAlign="stretch">
                <div class="title-container" fxLayoutAlign="start center">
                    <span class="material-symbols-outlined">
                        tune
                    </span>
                    <span class="title">
                        Bộ lọc: 
                    </span>
                </div>
                <form [formGroup]="filterForm" class="filter-container" fxLayout="column">
                    <div class="filter-price">
                        <h3 class="title">
                            Khoảng giá
                        </h3>
                        <div class="filter-price-min">
                            <span>Từ:</span>
                            <mat-slider thumbLabel tickInterval="1000" step="1" min="0" max="200" value="0" aria-label="units" formControlName="min"></mat-slider>
                            triệu
                        </div>
                        <div class="filter-price-min">
                            <span>Đến:</span>
                            <mat-slider thumbLabel tickInterval="1000" step="1" min="0" max="200" value="200" aria-label="units" formControlName="max"></mat-slider>
                            triệu
                        </div>
                    </div>
                    <mat-form-field appearance="fill">
                        <mat-label>Phân loại</mat-label>
                        <mat-select formControlName="type" [multiple]="true">
                          <mat-option>
                            Tất cả
                          </mat-option>
                          <mat-option *ngFor="let brand of listBrand" [value]="brand.id">{{brand.name}}</mat-option>
                        </mat-select>
                    </mat-form-field>
                    <mat-form-field appearance="fill">
                        <mat-label>Thương hiệu</mat-label>
                        <mat-select formControlName="brand" [multiple]="true">
                          <mat-option>
                            Tất cả
                          </mat-option>
                          <mat-option *ngFor="let brand of listBrand" [value]="brand.id">{{brand.name}}</mat-option>
                        </mat-select>
                    </mat-form-field>
                    <mat-form-field appearance="fill">
                        <mat-label>Màn hình</mat-label>
                        <mat-select formControlName="screen" [multiple]="true">
                          <mat-option>
                            Tất cả
                          </mat-option>
                          <mat-option *ngFor="let screen of listScreen" [value]="screen.id">{{screen.name}}</mat-option>
                        </mat-select>
                    </mat-form-field>
                    <mat-form-field appearance="fill">
                        <mat-label>CPU</mat-label>
                        <mat-select formControlName="cpu" [multiple]="true">
                          <mat-option>
                            Tất cả
                          </mat-option>
                          <mat-option *ngFor="let cpu of listCpu" [value]="cpu.id">{{cpu.name}}</mat-option>
                        </mat-select>
                    </mat-form-field>
                    <mat-form-field appearance="fill">
                        <mat-label>RAM</mat-label>
                        <mat-select formControlName="ram" [multiple]="true">
                          <mat-option>
                            Tất cả
                          </mat-option>
                          <mat-option *ngFor="let ram of listRam" [value]="ram.id">{{ram.name}}</mat-option>
                        </mat-select>
                    </mat-form-field>
                    <mat-form-field appearance="fill">
                        <mat-label>VGA</mat-label>
                        <mat-select formControlName="vga" [multiple]="true">
                          <mat-option>
                            Tất cả
                          </mat-option>
                          <mat-option *ngFor="let vga of listVga" [value]="vga.id">{{vga.name}}</mat-option>
                        </mat-select>
                    </mat-form-field>
                    <button mat-stroked-button (click)="onSearch()">Lọc</button>
                </form>
            </div>
            <div class="list-product" fxFlex="80" fxFlexAlign="stretch" fxLayout="column">
                <div class="order" fxLayout="row" fxLayoutAlign="start center">
                    <span class="material-symbols-outlined">
                        sort
                    </span>
                    <span class="title">
                        Sắp xếp theo: 
                    </span>
                    <mat-radio-group aria-label="Select an option" value="new" [(ngModel)]="sortBy">
                        <mat-radio-button class="order-button" value="new">Mới nhất</mat-radio-button>
                        <mat-radio-button class="order-button" value="increase">Giá tăng dần</mat-radio-button>
                        <mat-radio-button class="order-button" value="decrease">Giá giảm dần</mat-radio-button>
                        <mat-radio-button class="order-button" value="sold">Bán chạy</mat-radio-button>
                        <mat-radio-button class="order-button" value="discount">Đang khuyến mãi</mat-radio-button>
                    </mat-radio-group>
                </div>
                <div class="products" fxFlex fxLayout="row wrap">
                    <div class="product" fxLayout="column" fxLayoutAlign="start start" *ngFor="let product of listProduct" (click)="viewDetail(product.id)">
                        <div class="product-img-container">
                            <img src="../../../../assets/img/test-product.webp" alt="">
                            <div class="promo" fxLayout="column" fxLayoutAlign="center start">
                                <p class="promo-text">TIẾT KIỆM</p>
                                <p class="promo-saved-money">{{product.saved}}</p>
                            </div>
                            <div class="gift">
                                <img src="../../../../assets/img/gift-icon.png" alt="">
                            </div>
                        </div>
                        <div class="product-name">
                            {{product.name}}
                        </div>
                        <div class="product-price" fxLayout="row" fxLayoutAlign="space-between center" >
                            <p class="price">{{product.priceAfterDiscount}}</p>
                            <img src="../../../../assets/img/freeship.png" alt="">
                        </div>
                        <div class="product-cost" fxLayout="row">
                            <p class="cost">{{product.price}}</p>
                            <p class="discount">{{formatPrice(product.discount)}}</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>